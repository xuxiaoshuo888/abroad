(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4707f3f8"],{"56b9":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"project"},[e._m(0),a("el-card",{attrs:{shadow:"hover"}},[a("el-table",{attrs:{data:e.tableData,size:"medium",border:""},on:{"row-dblclick":e.rowDblclick}},[a("el-table-column",{attrs:{prop:"project.xmmc",label:"项目名称","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"project.lxdwmc",label:"立项单位","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"project.typeId",label:"出国（境）","show-overflow-tooltip":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s("1"===t.row.project.typeId?"出国":"出境")+"\n                ")]}}])}),a("el-table-column",{attrs:{prop:"project.jflyname",label:"经费来源","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"xmlbxname",label:"项目类别","show-overflow-tooltip":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.project.xmlbname)+"/"+e._s(t.row.project.xmlbxname)+"\n                ")]}}])}),a("el-table-column",{attrs:{prop:"time",label:"项目起止时间","show-overflow-tooltip":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.project.xmkssj)+"至"+e._s(t.row.project.xmzzsj)+"\n                ")]}}])}),a("el-table-column",{attrs:{prop:"project.xsccyq",label:"层次要求","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"project.sfzxname",label:"是否专项","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"spyj0",label:"学院意见","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"spyj1",label:"立项单位意见","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"spyj2",label:"学校意见","show-overflow-tooltip":"",align:"center"}})],1),a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.formSearch.page,"page-sizes":[10,20,50,100,200,500],"page-size":e.formSearch.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1),a("el-dialog",{attrs:{visible:e.dialogVisible,width:"80%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("header",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.dialogName))]),a("project-form",{attrs:{row:e.row,disable:e.disable,name:e.dialogName,sfzx:e.formSearch.sfzx},on:{"submit-reg":e.sonReg}})],1)],1)},l=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("fieldset",[a("legend",[e._v("我的申请记录")])])}],s=a("be94"),i=a("9a73"),r={name:"project",components:{projectForm:i["a"]},data:function(){return{deptList:[],fundsList:[],typeList:[],props:{value:"id",label:"value",children:"sonList"},formSearch:{page:1,limit:10},tableData:[],row:{},total:1,dialogVisible:!1,dialogName:"",disable:!0}},computed:{role:function(){return this.$store.state.role}},created:function(){this.getTableData()},methods:{getTableData:function(){var e=this;this.$ajax.post("/projectApply/myPage",this.formSearch).then(function(t){"0"===t.data.errcode?(e.total=t.data.data.data.records,e.tableData=t.data.data.data.rows):e.$message.error(t.data.errmsg)})},rowDblclick:function(e){this.$store.commit("setData",{name:"applyId",data:e.projectApply.id}),this.$store.commit("setData",{name:"applyName",data:"详情"}),this.$router.push("/project/apply/detail")},handleClick:function(){this.getTableData()},handleReg:function(e){this.row=Object(s["a"])({},e),this.dialogVisible=!0,this.disable=!0,this.dialogName="登记"},sonReg:function(e){this.handleCurrentChange(1),this.dialogVisible=!1,this.$message.success(e.data.errmsg)},handleApprove:function(e){this.row=Object(s["a"])({},e),this.dialogVisible=!0,this.disable=!0,this.dialogName="审批"},sonApprove:function(e){this.handleCurrentChange(1),this.dialogVisible=!1,this.$message.success(e.data.errmsg)},handleEdit:function(e){var t=this;"8"===this.formSearch.status?this.$confirm("该项目已发布, 是否继续修改?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){console.log(e.xmmc),t.row=Object(s["a"])({},e),t.dialogVisible=!0,t.disable=!1,t.dialogName="编辑"}).catch(function(){}):(console.log(e.xmmc),this.row=Object(s["a"])({},e),this.dialogVisible=!0,this.disable=!1,this.dialogName="编辑")},sonEdit:function(e){this.handleCurrentChange(1),this.dialogVisible=!1,this.$message.success(e.data.errmsg)},handleRelease:function(e){this.row=Object(s["a"])({},e),this.dialogVisible=!0,this.disable=!0,this.dialogName="发布"},sonRelease:function(e){this.handleCurrentChange(1),this.dialogVisible=!1,this.$message.success(e.data.errmsg)},handleDel:function(e){var t=this;this.$ajax.post("/project/remove",{id:e.id}).then(function(e){"0"===e.data.errcode?t.$message.success(e.data.errmsg):t.$message.error(e.data.errmsg)})},dialogClose:function(){this.dialogVisible=!1},handleSizeChange:function(e){this.formSearch.limit=e,this.formSearch.page=1,this.getTableData()},handleCurrentChange:function(e){this.formSearch.page=e,this.getTableData()}}},n=r,c=(a("5e41"),a("2877")),h=Object(c["a"])(n,o,l,!1,null,null,null);h.options.__file="list.vue";t["default"]=h.exports},"5e41":function(e,t,a){"use strict";var o=a("c1c5"),l=a.n(o);l.a},c1c5:function(e,t,a){}}]);
//# sourceMappingURL=chunk-4707f3f8.cb9d855e.js.map