(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-772a3e1d"],{8252:function(t,e,a){"use strict";var s=a("d519"),l=a.n(s);l.a},be94:function(t,e,a){"use strict";function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},l=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),l.forEach(function(e){s(t,e,a[e])})}return t}a.d(e,"a",function(){return l})},cf0f:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project"},[t._m(0),a("el-card",{attrs:{shadow:"hover"}},[a("header",{attrs:{slot:"header"},slot:"header"},[t._v("奖学金信息")]),a("el-form",{ref:"form",staticClass:"form-inline",attrs:{disabled:"",inline:"",size:"medium",model:t.form,"label-width":"110px"}},[a("el-form-item",{staticClass:"block",attrs:{label:"奖学金名称",prop:"name"}},[a("el-input",{staticClass:"name",model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"奖学金年度",prop:"nd"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.nd,callback:function(e){t.$set(t.form,"nd",e)},expression:"form.nd"}},t._l(t.ndList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),a("el-form-item",{attrs:{label:"奖学金批次",prop:"pc"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.pc,callback:function(e){t.$set(t.form,"pc",e)},expression:"form.pc"}},[a("el-option",{attrs:{label:"春季",value:"春季"}}),a("el-option",{attrs:{label:"秋季",value:"秋季"}})],1)],1),a("el-form-item",{attrs:{label:"申请开始时间",prop:"sqkssj"}},[a("el-date-picker",{staticClass:"select",attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:t.form.sqkssj,callback:function(e){t.$set(t.form,"sqkssj",e)},expression:"form.sqkssj"}})],1),a("el-form-item",{attrs:{label:"申请结束时间",prop:"sqjzsj"}},[a("el-date-picker",{staticClass:"select",attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:t.form.sqjzsj,callback:function(e){t.$set(t.form,"sqjzsj",e)},expression:"form.sqjzsj"}})],1),a("el-form-item",{staticClass:"block",attrs:{label:"关联项目名称"}},t._l(t.form.projectlist,function(e){return a("el-tag",{key:e.id,staticStyle:{"margin-right":"10px"},attrs:{type:"success"}},[t._v(t._s(e.xmmc))])})),a("el-form-item",{staticClass:"block",attrs:{label:"申请对象"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请填写申请对象"},model:{value:t.form.sqdx,callback:function(e){t.$set(t.form,"sqdx",e)},expression:"form.sqdx"}})],1),a("el-form-item",{staticClass:"block",attrs:{label:"资助范围和额度"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2},placeholder:"请填写资助范围和额度"},model:{value:t.form.zzfwed,callback:function(e){t.$set(t.form,"zzfwed",e)},expression:"form.zzfwed"}})],1),a("el-form-item",{staticClass:"block",attrs:{label:"申请资格"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4},placeholder:"请填写学生申请本项目的资格要求"},model:{value:t.form.sqzg,callback:function(e){t.$set(t.form,"sqzg",e)},expression:"form.sqzg"}})],1),a("el-form-item",{attrs:{label:"咨询电话",prop:"zxdh"}},[a("el-input",{staticClass:"select",model:{value:t.form.zxdh,callback:function(e){t.$set(t.form,"zxdh",e)},expression:"form.zxdh"}})],1),a("el-form-item",{staticClass:"block",attrs:{label:"项目材料上传"}},t._l(JSON.parse(t.form.fjzl),function(e){return a("a",{key:e.id,staticClass:"download",attrs:{href:t.$proxy+t.$downloadUrl+e.url}},[t._v(t._s(e.name))])}))],1)],1),a("el-card",{attrs:{shadow:"hover"}},[a("header",{attrs:{slot:"header"},slot:"header"},[t._v("学生基本信息")]),a("el-form",{staticClass:"form-inline",attrs:{inline:"",size:"mini","label-width":"110px"}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{disabled:""},model:{value:t.studentInfo.xm,callback:function(e){t.$set(t.studentInfo,"xm",e)},expression:"studentInfo.xm"}})],1),a("el-form-item",{attrs:{label:"学号"}},[a("el-input",{attrs:{disabled:""},model:{value:t.studentInfo.xh,callback:function(e){t.$set(t.studentInfo,"xh",e)},expression:"studentInfo.xh"}})],1),a("el-form-item",{attrs:{label:"性别"}},[a("el-input",{attrs:{disabled:""},model:{value:t.studentInfo.xb,callback:function(e){t.$set(t.studentInfo,"xb",e)},expression:"studentInfo.xb"}})],1),a("el-form-item",{attrs:{label:"学院"}},[a("el-input",{attrs:{disabled:""},model:{value:t.studentInfo.xy,callback:function(e){t.$set(t.studentInfo,"xy",e)},expression:"studentInfo.xy"}})],1),a("el-form-item",{attrs:{label:"专业"}},[a("el-input",{attrs:{disabled:""},model:{value:t.studentInfo.zy,callback:function(e){t.$set(t.studentInfo,"zy",e)},expression:"studentInfo.zy"}})],1),a("el-form-item",{attrs:{label:"培养层次"}},[a("el-input",{attrs:{disabled:""},model:{value:t.studentInfo.pycc,callback:function(e){t.$set(t.studentInfo,"pycc",e)},expression:"studentInfo.pycc"}})],1),a("el-form-item",{attrs:{label:"学生类别"}},[a("el-input",{attrs:{disabled:""},model:{value:t.studentInfo.xxlb,callback:function(e){t.$set(t.studentInfo,"xxlb",e)},expression:"studentInfo.xxlb"}})],1),a("el-form-item",{attrs:{label:"政治面貌"}},[a("el-input",{attrs:{disabled:""},model:{value:t.studentInfo.zzmm,callback:function(e){t.$set(t.studentInfo,"zzmm",e)},expression:"studentInfo.zzmm"}})],1),a("el-form-item",{attrs:{label:"证件类型"}},[a("el-input",{attrs:{disabled:""},model:{value:t.studentInfo.zjlx,callback:function(e){t.$set(t.studentInfo,"zjlx",e)},expression:"studentInfo.zjlx"}})],1),a("el-form-item",{attrs:{label:"证件号码"}},[a("el-input",{attrs:{disabled:""},model:{value:t.studentInfo.zjhm,callback:function(e){t.$set(t.studentInfo,"zjhm",e)},expression:"studentInfo.zjhm"}})],1),a("el-form-item",{attrs:{label:"联系电话"}},[a("el-input",{model:{value:t.apply.lxdh,callback:function(e){t.$set(t.apply,"lxdh",e)},expression:"apply.lxdh"}})],1),a("el-form-item",{attrs:{label:"电子邮箱"}},[a("el-input",{model:{value:t.apply.email,callback:function(e){t.$set(t.apply,"email",e)},expression:"apply.email"}})],1),a("el-form-item",{attrs:{label:"健康状况"}},[a("el-input",{model:{value:t.apply.jkzk,callback:function(e){t.$set(t.apply,"jkzk",e)},expression:"apply.jkzk"}})],1)],1)],1),a("el-card",{attrs:{shadow:"hover"}},[a("header",{attrs:{slot:"header"},slot:"header"},[t._v("申请表")]),a("el-form",{staticClass:"form-inline",attrs:{inline:"",size:"medium","label-width":"110px"}},[a("el-form-item",{staticClass:"block",attrs:{label:"关联项目"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.changeProject},model:{value:t.apply.projectId,callback:function(e){t.$set(t.apply,"projectId",e)},expression:"apply.projectId"}},t._l(t.awardProject,function(t){return a("el-option",{key:t.id,attrs:{label:t.xmmc,value:t.id}})}))],1),t.awardProjectSelect.xmlbname?a("el-form-item",{staticClass:"block tag-margin",attrs:{label:" "}},[a("el-tag",{attrs:{size:"medium"}},[t._v("项目类别:"+t._s(t.awardProjectSelect.xmlbname))]),a("el-tag",{attrs:{type:"success",size:"medium"}},[t._v("经费类型:"+t._s(t.awardProjectSelect.jflyname))]),a("el-tag",{attrs:{type:"info",size:"medium"}},[t._v("项目起止时间:"+t._s(t.awardProjectSelect.xmkssj.substring(0,10))+" 至 "+t._s(t.awardProjectSelect.xmzzsj.substring(0,10)))])],1):t._e(),a("el-form-item",{attrs:{label:"国家（地区）"}},[a("el-select",{attrs:{filterable:"",placeholder:"选择交换/交流国家（地区）"},model:{value:t.apply.gjdq,callback:function(e){t.$set(t.apply,"gjdq",e)},expression:"apply.gjdq"}},t._l(t.countryList,function(t){return a("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})}))],1),a("el-form-item",{attrs:{label:"院校/教育机构",prop:"jyjg"}},[a("el-input",{staticClass:"select",model:{value:t.apply.jyjg,callback:function(e){t.$set(t.apply,"jyjg",e)},expression:"apply.jyjg"}})],1),a("el-form-item",{attrs:{label:"留学方式"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.apply.lxfs,callback:function(e){t.$set(t.apply,"lxfs",e)},expression:"apply.lxfs"}},t._l(t.abroadWayList,function(t){return a("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})}))],1),a("el-form-item",{staticClass:"block",attrs:{label:"学习交流情况"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4},placeholder:"请填写在海外学习交流的主要内容和活动（300字以内）"},model:{value:t.apply.xxjlqk,callback:function(e){t.$set(t.apply,"xxjlqk",e)},expression:"apply.xxjlqk"}})],1),a("el-form-item",{attrs:{label:"获得的课程证明"}},[a("el-upload",{staticClass:"img-upload",attrs:{action:t.$proxy+"/upload/uploadFile","show-file-list":!1,"on-success":t.handleSuccess1}},[t.apply.kczm?a("img",{staticClass:"img",attrs:{src:t.$proxy+t.imgUrl+t.apply.kczm}}):a("i",{staticClass:"el-icon-plus icon"})])],1),a("el-form-item",{attrs:{label:"学分证明"}},[a("el-upload",{staticClass:"img-upload",attrs:{action:t.$proxy+"/upload/uploadFile","show-file-list":!1,"on-success":t.handleSuccess2}},[t.apply.xfzm?a("img",{staticClass:"img",attrs:{src:t.$proxy+t.imgUrl+t.apply.xfzm}}):a("i",{staticClass:"el-icon-plus icon"})])],1),a("el-form-item",{attrs:{label:"证书"}},[a("el-upload",{staticClass:"img-upload",attrs:{action:t.$proxy+"/upload/uploadFile","show-file-list":!1,"on-success":t.handleSuccess3}},[t.apply.zs?a("img",{staticClass:"img",attrs:{src:t.$proxy+t.imgUrl+t.apply.zs}}):a("i",{staticClass:"el-icon-plus icon"})])],1),a("el-form-item",{attrs:{label:"评语"}},[a("el-upload",{staticClass:"img-upload",attrs:{action:t.$proxy+"/upload/uploadFile","show-file-list":!1,"on-success":t.handleSuccess4}},[t.apply.py?a("img",{staticClass:"img",attrs:{src:t.$proxy+t.imgUrl+t.apply.py}}):a("i",{staticClass:"el-icon-plus icon"})])],1),a("el-form-item",{attrs:{label:"成绩单"}},[a("el-upload",{staticClass:"img-upload",attrs:{action:t.$proxy+"/upload/uploadFile","show-file-list":!1,"on-success":t.handleSuccess5}},[t.apply.cjd?a("img",{staticClass:"img",attrs:{src:t.$proxy+t.imgUrl+t.apply.cjd}}):a("i",{staticClass:"el-icon-plus icon"})])],1),a("el-form-item",{staticClass:"block",attrs:{label:"交流报告总结"}},[a("el-upload",{attrs:{action:t.$proxy+"/upload/uploadFile",limit:1,"on-success":t.handleSuccess0,"file-list":t.zjList}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-upload"}},[t._v("选择上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("※ 学生自主完成，必交材料")])],1)],1),a("el-form-item",{staticClass:"submit"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm()}}},[t._v("确认提交")])],1)],1)],1)],1)},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("fieldset",[a("legend",[t._v("奖学金申请表")])])}],r=a("be94"),o={name:"project",data:function(){return{ndList:[],form:{roleId:"",projectlist:[],name:"",nd:"",pc:"",sqkssj:"",sqjzsj:"",sqdx:"",zzfwed:"",sqzg:"",zxdh:"",fjzl:""},placeList:[],deptList:[],studentInfo:"",awardProject:[],awardProjectSelect:{},countryList:[],abroadWayList:[],apply:{pcId:"",projectId:"",lxdh:"",email:"",jkzk:"",gjdq:"",jyjg:"",lxfs:"",xxjlqk:"",kczm:"",xfzm:"",zs:"",py:"",cjd:"",xxjlzj:""},imgUrl:"/resource/showImg?path=",fileList:[],archiveFileList:[],zjList:[]}},computed:{role:function(){return this.$store.state.role},awardData:function(){return this.$store.state.awardData}},created:function(){this.awardData.id?(this.form=Object(r["a"])({},this.awardData),this.getInfo(),this.getList()):this.$router.push("/award/list/student")},methods:{getList:function(){var t=this;this.$ajax.post("/code/findCountries").then(function(e){t.countryList=e.data.data.data}),this.$ajax.post("/code/findSonCode",{fatherId:"405"}).then(function(e){t.abroadWayList=e.data.data.data})},getInfo:function(){var t=this;this.$ajax.post("/student/getInfo").then(function(e){t.studentInfo=e.data.data.data}),this.$ajax.post("/jxjApply/toAdd",{id:this.awardData.id}).then(function(e){t.awardProject=e.data.data.data.jPcProjectList})},changeProject:function(t){for(var e=this,a=0;a<this.awardProject.length;a++)this.awardProject[a].id===t&&(this.awardProjectSelect=this.awardProject[a]);this.$ajax.post("/projectReturn/getJlbg",{id:t}).then(function(t){"0"===t.data.errcode?(e.zjList=[{name:"登记总结",url:t.data.data.data.hgzj}],e.apply.xxjlzj=t.data.data.data.hgzj):e.$message.error(t.data.errmsg)})},handleSuccess1:function(t){"0"===t.errcode?this.apply.kczm=t.path:this.$message.error(t.errmsg)},handleSuccess2:function(t){"0"===t.errcode?this.apply.xfzm=t.path:this.$message.error(t.errmsg)},handleSuccess3:function(t){"0"===t.errcode?this.apply.zs=t.path:this.$message.error(t.errmsg)},handleSuccess4:function(t){"0"===t.errcode?this.apply.py=t.path:this.$message.error(t.errmsg)},handleSuccess5:function(t){"0"===t.errcode?this.apply.cjd=t.path:this.$message.error(t.errmsg)},handleSuccess0:function(t){"0"===t.errcode?this.apply.xxjlzj=t.path:this.$message.error(t.errmsg)},submitForm:function(){var t=this;this.apply.pcId=this.awardData.id,this.$ajax.post("/jxjApply/add",this.apply).then(function(e){"0"===e.data.errcode?(t.$message.success("申请已提交"),t.$router.push("/award/list/student")):t.$message.error(e.data.errmsg)})}}},i=o,n=(a("8252"),a("2877")),c=Object(n["a"])(i,s,l,!1,null,null,null);c.options.__file="apply.vue";e["default"]=c.exports},d519:function(t,e,a){}}]);
//# sourceMappingURL=chunk-772a3e1d.adfcf714.js.map