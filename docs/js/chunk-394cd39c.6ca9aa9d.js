(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-394cd39c"],{1298:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"work"},[t._m(0),a("el-card",{attrs:{shadow:"hover"}},[a("h4",[t._v("可申请的项目")]),a("el-table",{attrs:{data:t.tableData1,size:"medium",border:""},on:{"row-dblclick":t.rowDblclick1}},[a("el-table-column",{attrs:{prop:"xmmc",label:"项目名称","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"lxdwmc",label:"立项单位","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"cgjname",label:"出国（境）",width:"80","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"jflyname",label:"经费来源","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"xmlbxname",label:"项目类别","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.xmlbname)+"/"+t._s(e.row.xmlbxname)+"\n                ")]}}])}),a("el-table-column",{attrs:{prop:"time",label:"项目起止时间","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.xmkssj)+"至"+t._s(e.row.xmzzsj)+"\n                ")]}}])}),a("el-table-column",{attrs:{prop:"xsccyq",label:"层次要求",width:"80","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"mexz",label:"名额",width:"50","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"sfzxname",label:"是否专项",width:"50","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"xssqzzsj",label:"申请截止时间",width:"100","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{label:"操作",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(a){t.handleApply1(e.row)}}},[t._v("申请")])]}}])})],1),a("div",{staticClass:"more_div"},[a("router-link",{staticClass:"work_more",attrs:{to:"/project/list/student"}},[t._v("更多>>>")])],1),a("h4",[t._v("可申请的奖学金")]),a("el-table",{attrs:{data:t.tableData2,size:"medium",border:""},on:{"row-dblclick":t.rowDblclick2}},[a("el-table-column",{attrs:{prop:"name",label:"奖学金名称","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"nd",label:"奖学金年度","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"pc",label:"奖学金批次","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"sqzg",label:"资格要求","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{label:"申请起止时间","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.sqkssj)+"至"+t._s(e.row.sqjzsj)+"\n                ")]}}])}),a("el-table-column",{attrs:{label:"开放状态",width:"100","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"===e.row.status?a("el-tag",[t._v("未开放")]):t._e(),"1"===e.row.status?a("el-tag",{attrs:{type:"success"}},[t._v("已开放")]):t._e(),"2"===e.row.status?a("el-tag",{attrs:{type:"info"}},[t._v("已结束")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"操作",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(a){t.handleApply2(e.row)}}},[t._v("申请")])]}}])})],1),a("div",{staticClass:"more_div"},[a("router-link",{staticClass:"work_more",attrs:{to:"/award/list/student"}},[t._v("更多>>>")])],1),a("h4",[t._v("回国登记提醒（X条需及时登记）")]),a("el-table",{attrs:{data:t.tableData3,size:"medium",border:""},on:{"row-dblclick":t.rowDblclick3}},[a("el-table-column",{attrs:{prop:"xmmc",label:"项目名称","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"lxdwmc",label:"立项单位","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"typeid",label:"出国（境）","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s("1"===e.row.typeId?"出国":"出境")+"\n                ")]}}])}),a("el-table-column",{attrs:{prop:"jflyname",label:"经费来源","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"xmlbxname",label:"项目类别","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.xmlbname)+"/"+t._s(e.row.xmlbxname)+"\n                ")]}}])}),a("el-table-column",{attrs:{prop:"time",label:"项目起止时间","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.xmkssj)+"至"+t._s(e.row.xmzzsj)+"\n                ")]}}])}),a("el-table-column",{attrs:{prop:"xsccyq",label:"层次要求","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"sfzxname",label:"是否专项","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"xmfzr",label:"项目负责人","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"xmfzrdh",label:"联系电话","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{prop:"sfhgdj",label:"状态","show-overflow-tooltip":"",align:"center"}}),a("el-table-column",{attrs:{label:"操作",width:"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["未登记"===e.row.sfhgdj||"延期"===e.row.sfhgdj?a("span",[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(a){t.handleReg3(e.row)}}},[t._v("登记")]),a("el-button",{attrs:{type:"warning",size:"mini",plain:""},on:{click:function(a){t.handleRegAbnormal3(e.row)}}},[t._v("异动")])],1):t._e()]}}])})],1),a("div",{staticClass:"more_div"},[a("router-link",{staticClass:"work_more",attrs:{to:"/project/reg/list"}},[t._v("更多>>>")])],1)],1),a("el-dialog",{attrs:{visible:t.dialogVisible,width:"80%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("header",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.dialogName))]),a("project-form",{attrs:{row:t.row,disable:t.disable,name:t.dialogName},on:{"submit-apply":t.sonApply}})],1),a("el-dialog",{attrs:{visible:t.dialogVisible3},on:{"update:visible":function(e){t.dialogVisible3=e}}},[a("header",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.dialogName3))]),a("el-form",{attrs:{size:"medium"}},[a("el-form-item",{attrs:{label:"异动类型",disabled:t.disable3}},[a("el-radio-group",{model:{value:t.abnormal.ydlx,callback:function(e){t.$set(t.abnormal,"ydlx",e)},expression:"abnormal.ydlx"}},[a("el-radio-button",{attrs:{label:"2"}},[t._v("中止")]),a("el-radio-button",{attrs:{label:"3"}},[t._v("延期")])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"3"===t.abnormal.ydlx,expression:"abnormal.ydlx==='3'"}],attrs:{label:"延期时间"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.abnormal.yqsj,callback:function(e){t.$set(t.abnormal,"yqsj",e)},expression:"abnormal.yqsj"}})],1),a("el-form-item",{attrs:{label:"异动原因"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.abnormal.ydyy,callback:function(e){t.$set(t.abnormal,"ydyy",e)},expression:"abnormal.ydyy"}})],1),a("el-form-item",{attrs:{label:"相关材料"}},[a("el-upload",{attrs:{action:t.$proxy+"/upload/uploadFile","on-remove":t.handleRemove3,"on-success":t.handleSuccess3}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-upload"}},[t._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传doc/docx文件，且不超过2M")])],1)],1),a("el-form-item",{staticClass:"block",attrs:{label:" "}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm3()}}},[t._v("确认提交")])],1)],1)],1)],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("fieldset",[a("legend",[t._v("我的工作台")])])}],r=(a("7f7f"),a("2909")),s=a("be94"),i=a("9a73"),n={name:"lgb",components:{projectForm:i["a"]},data:function(){return{tableData1:[],row:{},dialogVisible:!1,dialogName:"",disable:!0,tableData2:[],tableData3:[],dialogVisible3:!1,dialogName3:"",disable3:!0,abnormal:{id:"",applyId:"",projectId:"",studentId:"",ydlx:"",yqsj:"",ydyy:"",ydcl:"",status:""},fileList:[],archiveFileList:[]}},created:function(){this.getTableData1(),this.getTableData2(),this.getTableData3()},computed:{role:function(){return this.$store.state.role}},methods:{getTableData1:function(){var t=this;console.log(this.role),this.$ajax.post("/projectApply/page",{roleId:this.role}).then(function(e){t.tableData1=e.data.data.data.rows.splice(0,2)})},rowDblclick1:function(t){this.row=Object(s["a"])({},t),console.log(this.row),this.dialogVisible=!0,this.disable=!0,this.dialogName="详情"},handleApply1:function(t){var e=this;this.$ajax.post("/projectApply/isCheck",{id:t.id}).then(function(a){a&&("0"===a.data.errcode?(e.row=Object(s["a"])({},t),e.dialogVisible=!0,e.disable=!0,e.dialogName="申请"):e.$message.error(a.data.errmsg))})},sonApply:function(t){this.handleCurrentChange(1),this.dialogVisible=!1,this.$message.success(t.data.errmsg)},dialogClose:function(){this.dialogVisible=!1},getTableData2:function(){var t=this;this.$ajax.post("/jxjApply/page",{status:"0"}).then(function(e){t.tableData2=e.data.data.data.rows.splice(0,2)})},rowDblclick2:function(t){this.$store.commit("setData",{name:"awardName",data:"详情"}),this.$store.commit("setData",{name:"awardData",data:t}),this.$router.push("/award/detail")},handleApply2:function(t){var e=this;this.$ajax.post("/jxjApply/checkStudent",{id:t.id}).then(function(a){"0"===a.data.errcode?(e.$store.commit("setData",{name:"awardData",data:t}),e.$router.push("/award/apply")):e.$message.error(a.data.errmsg)})},getTableData3:function(){var t=this;this.$ajax.post("/projectReturn/expirePage").then(function(e){"0"===e.data.errcode?(t.total=e.data.data.data.records,t.tableData3=e.data.data.data.rows.splice(0,1)):t.$message.error(e.data.errmsg)})},rowDblclick3:function(t){this.$store.commit("setData",{name:"regId",data:t.id}),this.$store.commit("setData",{name:"regName",data:"详情"}),this.$router.push("/project/reg/normal")},handleReg3:function(t){this.$store.commit("setData",{name:"regId",data:t.id}),this.$store.commit("setData",{name:"regName",data:"登记"}),this.$router.push("/project/reg/normal")},handleRegAbnormal3:function(t){this.row=Object(s["a"])({},t),this.dialogVisible=!0,this.disable=!1,this.dialogName="异动",console.log(t)},handleRemove3:function(t,e){var a=this;console.log(t);var l=t.url?t.url:t.response.path;this.$ajax.post("/resource/deleteFile",{path:l}).then(function(t){"0"===t.data.errcode?(a.fileList=Object(r["a"])(e),console.log(a.fileList)):a.$message.error(t.data.errmsg)})},handleSuccess3:function(t,e,a){"0"===t.errcode?(this.fileList=Object(r["a"])(a),console.log(this.fileList)):this.$message.error(t.message)},submitForm:function(){var t=this;this.$ajax.post("/projectReturn/queryResult",{proResId:this.row.id}).then(function(e){null===e.data.data.data.projectReturn.return?t.abnormal.id="":t.abnormal.id=e.data.data.data.projectReturn.return.id,t.abnormal.applyId=e.data.data.data.projectResult.id,t.abnormal.studentId=e.data.data.data.student.id,t.abnormal.projectId=e.data.data.data.project.sqlRow.id,t.abnormal.status=t.abnormal.ydlx,t.archiveFileList=[];for(var a=0;a<t.fileList.length;a++)t.fileList[a].response?t.archiveFileList.push({url:t.fileList[a].response.path,name:t.fileList[a].name}):t.archiveFileList.push({url:t.fileList[a].url,name:t.fileList[a].name});t.archiveFileList.length>0&&(t.abnormal.ydcl=JSON.stringify(t.archiveFileList)),t.$ajax.post("/projectReturn/checkIn",t.abnormal).then(function(e){"0"===e.data.errcode?(t.handleCurrentChange(1),t.dialogVisible=!1,t.$message.success("异动已提交")):t.$message.error(e.data.errmsg)})})}}},c=n,d=(a("2865"),a("2877")),p=Object(d["a"])(c,l,o,!1,null,"0f160ee6",null);p.options.__file="student.vue";e["default"]=p.exports},2865:function(t,e,a){"use strict";var l=a("a010"),o=a.n(l);o.a},a010:function(t,e,a){}}]);
//# sourceMappingURL=chunk-394cd39c.6ca9aa9d.js.map